# base image https://hub.docker.com/_/python
# FROM python:3-alpine
FROM psazuse.jfrog.io/krishnam-docker-virtual/python:3-alpine

RUN apk add build-base

WORKDIR /app
COPY app/. /app/
WORKDIR /code

RUN pip install gunicorn
RUN pip install --compile -r requirements.txt
RUN python3 -m compileall .
RUN FLASK_APP=app.py
CMD [ "flask", "run", "--host", "0.0.0.0"]